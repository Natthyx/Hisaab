{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/natezeleke/Desktop/Main_Project/Hisaab/app/api/auth/create-profile/route.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\nexport async function POST(req: Request) {\n  try {\n    const { userId, email, initialBalance } = await req.json()\n\n    const supabase = createClient(\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\n      process.env.SUPABASE_SERVICE_KEY! // bypasses RLS\n    )\n\n    const { error } = await supabase\n      .from(\"users\")\n      .insert([\n        { \n          id: userId, \n          email,\n          initial_balance: initialBalance || 0\n        }\n      ])\n\n    if (error) {\n      return Response.json({ error: error.message }, { status: 400 })\n    }\n\n    return Response.json({ success: true })\n  } catch (error) {\n    return Response.json({ error: 'An unexpected error occurred' }, { status: 500 })\n  }\n}"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,cAAc,EAAE,GAAG,MAAM,IAAI,IAAI;QAExD,MAAM,WAAW,IAAA,yMAAY,gFAE3B,QAAQ,GAAG,CAAC,oBAAoB;QAGlC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,SACL,MAAM,CAAC;YACN;gBACE,IAAI;gBACJ;gBACA,iBAAiB,kBAAkB;YACrC;SACD;QAEH,IAAI,OAAO;YACT,OAAO,SAAS,IAAI,CAAC;gBAAE,OAAO,MAAM,OAAO;YAAC,GAAG;gBAAE,QAAQ;YAAI;QAC/D;QAEA,OAAO,SAAS,IAAI,CAAC;YAAE,SAAS;QAAK;IACvC,EAAE,OAAO,OAAO;QACd,OAAO,SAAS,IAAI,CAAC;YAAE,OAAO;QAA+B,GAAG;YAAE,QAAQ;QAAI;IAChF;AACF"}}]
}