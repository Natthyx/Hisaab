{"version":3,"sources":["../../../../components/accounts/client.tsx/__nextjs-internal-proxy.mjs","../../../../app/%28with-auth%29/accounts/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AccountsClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call AccountsClient() from the server but AccountsClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/accounts/client.tsx\",\n    \"AccountsClient\",\n);\n","import { ThemeToggle } from '@/components/layout/theme-toggle'\nimport { redirect } from 'next/navigation'\nimport { AccountsClient } from \"@/components/accounts/client\"\nimport { getUserAccounts, getUserDefaultAccount } from \"@/lib/accounts/service\"\nimport { getCachedUser } from \"@/lib/auth/service\"\nimport { Suspense } from 'react'\nimport { PageLoadingIndicator } from '@/components/layout/loading-overlay'\n\nasync function AccountsContent() {\n  // Use cached user instead of calling getUser directly\n  const user = await getCachedUser()\n  \n  if (!user) {\n    redirect('/login')\n  }\n  \n  // Get user's accounts using the service function\n  const accounts = await getUserAccounts(user.id)\n  \n  // Get user's default account using the service function\n  const userData = await getUserDefaultAccount(user.id)\n  \n  const defaultAccountId = userData?.default_account_id\n  \n  return (\n    <main className=\"flex-1 p-4 pb-20 md:p-8 md:pb-8\">\n      <div className=\"mx-auto max-w-4xl space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <h1 className=\"text-3xl font-bold\">Accounts</h1>\n          <div className=\"flex items-center gap-2\">\n            <ThemeToggle />\n          </div>\n        </div>\n        \n        <AccountsClient \n          accounts={accounts || []} \n          defaultAccountId={defaultAccountId || null} \n        />\n      </div>\n    </main>\n  )\n}\n\nexport default function AccountsPage() {\n  return (\n    <Suspense fallback={<div className=\"fixed inset-0 flex items-center justify-center bg-background z-[100] overflow-hidden\">\n      <div className=\"flex flex-col items-center gap-4 px-4 w-full max-w-xs sm:max-w-sm\">\n        <div className=\"relative\">\n          <img \n            src=\"/hisaab-logo-main.png\"\n            alt=\"Hisaab Logo\" \n            className=\"h-12 w-12 animate-pulse sm:h-16 sm:w-16\"\n          />\n        </div>\n        <div className=\"h-1.5 w-full max-w-[96px] overflow-hidden rounded-full bg-muted sm:max-w-[128px] sm:h-2\">\n          <div className=\"h-full w-full animate-progress rounded-full bg-indigo-600\"></div>\n        </div>\n      </div>\n    </div>}>\n      <AccountsContent />\n    </Suspense>\n  )\n}"],"names":[],"mappings":"gWAEO,IAAM,EAAiB,CAAA,EAAA,AAD9B,EAAA,CAAA,CAAA,OAC8B,uBAAA,AAAuB,EACjD,WAAa,MAAM,AAAI,MAAM,0OAA4O,EACzQ,+DACA,qEAHG,IAAM,EAAiB,CAAA,EAAA,AAD9B,EAAA,CAAA,CAAA,OAC8B,uBAAA,AAAuB,EACjD,WAAa,MAAM,AAAI,MAAM,0OAA4O,EACzQ,2CACA,gJCLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,KAGA,eAAe,IAEb,IAAM,EAAO,MAAM,CAAA,EAAA,EAAA,aAAA,AAAa,GAE5B,CAAC,GACH,CAAA,EAAA,AADS,EACT,QAAA,AAAQ,EAAC,UAIX,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,EAAK,EAAE,EAGxC,EAAW,MAAM,CAAA,EAAA,EAAA,qBAAA,AAAqB,EAAC,EAAK,EAAE,EAE9C,EAAmB,GAAU,mBAEnC,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2CACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8BAAqB,aACnC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,QAIhB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CACb,SAAU,GAAY,EAAE,CACxB,iBAAkB,GAAoB,WAKhD,CAEe,SAAS,IACtB,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,SAAU,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gGACjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8EACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAI,wBACJ,IAAI,cACJ,UAAU,8CAGd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mGACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8EAInB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,IAGP","ignoreList":[0]}