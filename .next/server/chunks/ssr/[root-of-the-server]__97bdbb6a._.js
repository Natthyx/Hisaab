module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70864,a=>{a.n(a.i(33290))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},53413,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ExpenseChart() from the server but ExpenseChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/analytics/expense-chart.tsx <module evaluation>","ExpenseChart");a.s(["ExpenseChart",0,b])},76921,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ExpenseChart() from the server but ExpenseChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/analytics/expense-chart.tsx","ExpenseChart");a.s(["ExpenseChart",0,b])},33418,a=>{"use strict";a.i(53413);var b=a.i(76921);a.n(b)},12512,a=>{"use strict";var b=a.i(11857);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call Tabs() from the server but Tabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/tabs.tsx <module evaluation>","Tabs"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call TabsContent() from the server but TabsContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/tabs.tsx <module evaluation>","TabsContent"),e=(0,b.registerClientReference)(function(){throw Error("Attempted to call TabsList() from the server but TabsList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/tabs.tsx <module evaluation>","TabsList"),f=(0,b.registerClientReference)(function(){throw Error("Attempted to call TabsTrigger() from the server but TabsTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/tabs.tsx <module evaluation>","TabsTrigger");a.s(["Tabs",0,c,"TabsContent",0,d,"TabsList",0,e,"TabsTrigger",0,f])},45362,a=>{"use strict";var b=a.i(11857);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call Tabs() from the server but Tabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/tabs.tsx","Tabs"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call TabsContent() from the server but TabsContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/tabs.tsx","TabsContent"),e=(0,b.registerClientReference)(function(){throw Error("Attempted to call TabsList() from the server but TabsList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/tabs.tsx","TabsList"),f=(0,b.registerClientReference)(function(){throw Error("Attempted to call TabsTrigger() from the server but TabsTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/tabs.tsx","TabsTrigger");a.s(["Tabs",0,c,"TabsContent",0,d,"TabsList",0,e,"TabsTrigger",0,f])},96690,a=>{"use strict";a.i(12512);var b=a.i(45362);a.n(b)},75403,a=>{"use strict";var b=a.i(7997),c=a.i(32868),d=a.i(60507),e=a.i(82248);function f({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,e.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...c})}function g({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,e.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...c})}function h({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,e.cn)("leading-none font-semibold",a),...c})}function i({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,e.cn)("px-6",a),...c})}var j=a.i(1269);let k=(0,j.default)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),l=(0,j.default)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);function m({balance:a,income:c,expense:d}){return(0,b.jsxs)(f,{className:"bg-gradient-to-br from-indigo-600 to-indigo-700 text-white border-0",children:[(0,b.jsx)(g,{children:(0,b.jsx)(h,{className:"text-sm font-medium text-indigo-100",children:"Current Balance"})}),(0,b.jsxs)(i,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"text-4xl font-bold",children:["$",a.toLocaleString()]}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-green-500/20",children:(0,b.jsx)(k,{className:"h-4 w-4 text-green-300"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-indigo-100",children:"Income"}),(0,b.jsxs)("p",{className:"text-sm font-semibold",children:["$",c.toLocaleString()]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-red-500/20",children:(0,b.jsx)(l,{className:"h-4 w-4 text-red-300"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-indigo-100",children:"Expense"}),(0,b.jsxs)("p",{className:"text-sm font-semibold",children:["$",d.toLocaleString()]})]})]})]})]})]})}var n=a.i(33418),o=a.i(96690),p=a.i(43917),q=a.i(2471),r=a.i(95936),s=a.i(98310);a.i(70396);var t=a.i(73727),u=a.i(33408),v=a.i(40924);let w=a=>["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][new Date(a).getDay()],x=(a,b)=>`Week ${b+1}`,y=a=>["Sep","Oct","Nov","Dec","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug"][new Date(a).getMonth()];async function z(a,b){let c=await (0,v.getUserAccounts)(a),d=b;if(!d&&c&&c.length>0){let b=await (0,v.getUserDefaultAccount)(a);d=b?.default_account_id?b.default_account_id:c[0].id}let e=c?.find(a=>a.id===d)||c?.[0],f=d?await (0,u.getAccountTransactions)(d):[],g=0,h=0;f?.forEach(a=>{"income"===a.type?g+=a.amount:h+=a.amount});let i=(e?.initial_balance||0)+g-h,j=[],k=new Date,l=new Date(k);l.setDate(k.getDate()-k.getDay());for(let a=0;a<7;a++){let b=new Date(l);b.setDate(l.getDate()+a);let c=new Date(b.getFullYear(),b.getMonth(),b.getDate()),d=new Date(b.getFullYear(),b.getMonth(),b.getDate(),23,59,59,999),e=0,g=0;f?.forEach(a=>{let b=new Date(a.date);b>=c&&b<=d&&("income"===a.type?e+=a.amount:g+=a.amount)}),j.push({day:w(c.toISOString()),income:e,expense:g})}let m=[],n=new Date(k.getFullYear(),k.getMonth(),1),o=new Date(k.getFullYear(),k.getMonth()+1,0,23,59,59,999),p=Math.ceil((o.getDate()-n.getDate()+1)/7);for(let a=0;a<Math.min(p,4);a++){let b=new Date(n);b.setDate(n.getDate()+7*a);let c=new Date(b);c.setDate(b.getDate()+6),c>o&&c.setTime(o.getTime());let d=f?.filter(a=>new Date(a.date)>=b&&new Date(a.date)<=c)||[],e=0,g=0;d.forEach(a=>{"income"===a.type?e+=a.amount:g+=a.amount}),m.push({week:x(b.toISOString(),a),income:e,expense:g})}let q=[],r=new Date(k.getFullYear(),0,1);for(let a=0;a<12;a++){let b=new Date(r.getFullYear(),a,1),c=new Date(r.getFullYear(),a+1,0,23,59,59,999),d=f?.filter(a=>new Date(a.date)>=b&&new Date(a.date)<=c)||[],e=0,g=0;d.forEach(a=>{"income"===a.type?e+=a.amount:g+=a.amount}),q.push({month:y(b.toISOString()),income:e,expense:g})}return{accounts:c,selectedAccount:e,selectedAccountId:d,transactions:f,totalIncome:g,totalExpense:h,balance:i,dailyData:j,weeklyData:m,monthlyData:q}}async function A(a){let e=await a.searchParams,f=await (0,s.createClient)(),{data:{user:g}}=await f.auth.getUser();g||(0,t.redirect)("/login");let{accounts:h,selectedAccount:i,selectedAccountId:j,transactions:k,totalIncome:l,totalExpense:u,balance:v,dailyData:w,weeklyData:x,monthlyData:y}=await z(g.id,e.account);return(0,b.jsxs)("div",{className:"flex min-h-screen flex-col md:flex-row",children:[(0,b.jsx)(d.Navigation,{}),(0,b.jsx)("main",{className:"flex-1 p-4 pb-20 md:ml-64 md:p-8 md:pb-8",children:(0,b.jsxs)("div",{className:"mx-auto max-w-6xl space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c.ThemeToggle,{}),(0,b.jsx)(r.default,{href:"/add",children:(0,b.jsxs)(p.Button,{className:"bg-indigo-600 hover:bg-indigo-700",children:[(0,b.jsx)(q.PlusIcon,{className:"mr-2 h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Add Transaction"})]})})]})]}),(0,b.jsx)(m,{balance:v,income:l,expense:u}),(0,b.jsxs)(o.Tabs,{defaultValue:"daily",children:[(0,b.jsxs)(o.TabsList,{className:"grid w-full grid-cols-3",children:[(0,b.jsx)(o.TabsTrigger,{value:"daily",children:"Daily"}),(0,b.jsx)(o.TabsTrigger,{value:"weekly",children:"Weekly"}),(0,b.jsx)(o.TabsTrigger,{value:"monthly",children:"Monthly"})]}),(0,b.jsx)(o.TabsContent,{value:"daily",className:"mt-6 p-0",children:(0,b.jsx)(n.ExpenseChart,{data:w,title:"Daily Overview",type:"bar",dataKeys:[{key:"income",color:"#10b981",label:"Income"},{key:"expense",color:"#ef4444",label:"Expense"}],xAxisKey:"day"})}),(0,b.jsx)(o.TabsContent,{value:"weekly",className:"mt-6 p-0",children:(0,b.jsx)(n.ExpenseChart,{data:x,title:"Weekly Overview",type:"line",dataKeys:[{key:"income",color:"#10b981",label:"Income"},{key:"expense",color:"#ef4444",label:"Expense"}],xAxisKey:"week"})}),(0,b.jsx)(o.TabsContent,{value:"monthly",className:"mt-6 p-0",children:(0,b.jsx)(n.ExpenseChart,{data:y,title:"Monthly Overview",type:"bar",dataKeys:[{key:"income",color:"#10b981",label:"Income"},{key:"expense",color:"#ef4444",label:"Expense"}],xAxisKey:"month"})})]})]})})]})}a.s(["default",()=>A],75403)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__97bdbb6a._.js.map