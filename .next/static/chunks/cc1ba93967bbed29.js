(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23750,10708,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function i({className:e,type:i,...s}){return(0,t.jsx)("input",{type:i,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>i],23750);var s=e.i(71645),r=e.i(48425),n=s.forwardRef((e,a)=>(0,t.jsx)(r.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));function l({className:e,...i}){return(0,t.jsx)(n,{"data-slot":"label",className:(0,a.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...i})}n.displayName="Label",e.s(["Label",()=>l],10708)},81950,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(18566),s=e.i(67881),r=e.i(23750),n=e.i(10708),l=e.i(70065),o=e.i(20755),c=e.i(46696);function d(){let e=(0,i.useRouter)(),[d,u]=(0,a.useState)("Main Account"),[m,p]=(0,a.useState)(""),[b,x]=(0,a.useState)(!1),[f,h]=(0,a.useState)({}),g=(0,o.createClient)(),v=async t=>{let a,i;t.preventDefault();let s=(a={},d.trim()||(a.accountName="Account name is required"),i=parseFloat(m),m&&(isNaN(i)||i<0)&&(a.initialBalance="Please enter a valid positive number"),{isValid:0===Object.keys(a).length,errors:a});if(!s.isValid){h(s.errors),c.toast.error("Please fix the errors below");return}x(!0);try{let{data:{user:t},error:a}=await g.auth.getUser();if(a||!t){c.toast.error("You must be logged in to set up your account"),x(!1);return}let i=await fetch("/api/setup/account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d,initial_balance:m})}),s=await i.json();if(!i.ok||!s.success){c.toast.error(s.error||"Failed to set up account"),x(!1);return}c.toast.success("Account setup completed successfully"),e.push("/dashboard")}catch(e){c.toast.error(e.message||"An unexpected error occurred"),x(!1)}};return(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-indigo-50 to-white p-4",children:(0,t.jsxs)(l.Card,{className:"w-full max-w-md",children:[(0,t.jsxs)(l.CardHeader,{className:"space-y-1",children:[(0,t.jsx)(l.CardTitle,{className:"text-3xl font-bold text-center",children:"Welcome to Hisaab"}),(0,t.jsx)(l.CardDescription,{className:"text-center",children:"Let's get started by setting up your first account"})]}),(0,t.jsx)(l.CardContent,{children:(0,t.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"account-name",className:"text-base",children:"Account Name"}),(0,t.jsx)(r.Input,{id:"account-name",type:"text",placeholder:"e.g., Main Account, Checking Account",value:d,onChange:e=>{u(e.target.value),f.accountName&&h(e=>({...e,accountName:void 0}))},className:`text-base h-12 ${f.accountName?"border-red-500":""}`}),f.accountName&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:f.accountName})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"balance",className:"text-base",children:"Initial Balance"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-2xl text-muted-foreground",children:"$"}),(0,t.jsx)(r.Input,{id:"balance",type:"number",placeholder:"0",value:m,onChange:e=>{p(e.target.value),f.initialBalance&&h(e=>({...e,initialBalance:void 0}))},className:`pl-8 text-2xl h-12 ${f.initialBalance?"border-red-500":""}`,min:"0",step:"0.01"}),f.initialBalance&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:f.initialBalance})]})]}),(0,t.jsx)(s.Button,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700",disabled:b,children:b?"Setting up...":"Complete Setup"})]})})]})})}e.s(["default",()=>d],81950)}]);