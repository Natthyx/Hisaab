(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,65238,e=>{"use strict";var t=e.i(43476),r=e.i(63178),n=e.i(71645);let o=(0,n.createContext)({isLoading:!1,setIsLoading:e=>{}});function a(){return(0,n.useContext)(o)}function s({children:e}){let[r,a]=(0,n.useState)(!1);return(0,t.jsx)(o.Provider,{value:{isLoading:r,setIsLoading:a},children:e})}function i(){let{theme:e}=(0,r.useTheme)(),{isLoading:n}=a();return n?(0,t.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-background z-[100] overflow-hidden",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4 px-4 w-full max-w-xs sm:max-w-sm",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("img",{src:"dark"===e?"/hisaab-logo-white.png":"/hisaab-logo-main.png",alt:"Hisaab Logo",className:"h-12 w-12 animate-pulse sm:h-16 sm:w-16"})}),(0,t.jsx)("div",{className:"h-1.5 w-full max-w-[96px] overflow-hidden rounded-full bg-muted sm:max-w-[128px] sm:h-2",children:(0,t.jsx)("div",{className:"h-full w-full animate-progress rounded-full bg-indigo-600"})})]})}):null}e.s(["LoadingProvider",()=>s,"PageLoadingIndicator",()=>i,"useLoading",()=>a])},94220,8031,11788,e=>{"use strict";var t=e.i(43476),r=e.i(22016),n=e.i(18566),o=e.i(75254);let a=(0,o.default)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),s=(0,o.default)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),i=(0,o.default)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var l=e.i(2040),l=l;let d=(0,o.default)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),c=(0,o.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);e.s(["LogOutIcon",()=>c],8031);var u=e.i(47163);let p=(0,o.default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["UserIcon",()=>p],11788);var f=e.i(71645),m=e.i(20755),h=e.i(67881),v=e.i(81140),x=e.i(20783),g=e.i(30030),w=e.i(69340),y=e.i(48425),b=e.i(75830),j=e.i(86318),C=e.i(26330),k=e.i(3536),M=e.i(65491),R=e.i(10772),N=e.i(53660),E=e.i(74606),P=e.i(96626),_=e.i(42727),D=e.i(91918),S=e.i(30207),T=e.i(86312),I=e.i(85369),O=["Enter"," "],L=["ArrowUp","PageDown","End"],H=["ArrowDown","PageUp","Home",...L],A={ltr:[...O,"ArrowRight"],rtl:[...O,"ArrowLeft"]},F={ltr:["ArrowLeft"],rtl:["ArrowRight"]},K="Menu",[U,z,G]=(0,b.createCollection)(K),[V,B]=(0,g.createContextScope)(K,[G,N.createPopperScope,_.createRovingFocusGroupScope]),q=(0,N.createPopperScope)(),X=(0,_.createRovingFocusGroupScope)(),[W,Y]=V(K),[Z,J]=V(K),Q=e=>{let{__scopeMenu:r,open:n=!1,children:o,dir:a,onOpenChange:s,modal:i=!0}=e,l=q(r),[d,c]=f.useState(null),u=f.useRef(!1),p=(0,S.useCallbackRef)(s),m=(0,j.useDirection)(a);return f.useEffect(()=>{let e=()=>{u.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>u.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,t.jsx)(N.Root,{...l,children:(0,t.jsx)(W,{scope:r,open:n,onOpenChange:p,content:d,onContentChange:c,children:(0,t.jsx)(Z,{scope:r,onClose:f.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:u,dir:m,modal:i,children:o})})})};Q.displayName=K;var $=f.forwardRef((e,r)=>{let{__scopeMenu:n,...o}=e,a=q(n);return(0,t.jsx)(N.Anchor,{...a,...o,ref:r})});$.displayName="MenuAnchor";var ee="MenuPortal",[et,er]=V(ee,{forceMount:void 0}),en=e=>{let{__scopeMenu:r,forceMount:n,children:o,container:a}=e,s=Y(ee,r);return(0,t.jsx)(et,{scope:r,forceMount:n,children:(0,t.jsx)(P.Presence,{present:n||s.open,children:(0,t.jsx)(E.Portal,{asChild:!0,container:a,children:o})})})};en.displayName=ee;var eo="MenuContent",[ea,es]=V(eo),ei=f.forwardRef((e,r)=>{let n=er(eo,e.__scopeMenu),{forceMount:o=n.forceMount,...a}=e,s=Y(eo,e.__scopeMenu),i=J(eo,e.__scopeMenu);return(0,t.jsx)(U.Provider,{scope:e.__scopeMenu,children:(0,t.jsx)(P.Presence,{present:o||s.open,children:(0,t.jsx)(U.Slot,{scope:e.__scopeMenu,children:i.modal?(0,t.jsx)(el,{...a,ref:r}):(0,t.jsx)(ed,{...a,ref:r})})})})}),el=f.forwardRef((e,r)=>{let n=Y(eo,e.__scopeMenu),o=f.useRef(null),a=(0,x.useComposedRefs)(r,o);return f.useEffect(()=>{let e=o.current;if(e)return(0,T.hideOthers)(e)},[]),(0,t.jsx)(ec,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:(0,v.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ed=f.forwardRef((e,r)=>{let n=Y(eo,e.__scopeMenu);return(0,t.jsx)(ec,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),ec=f.forwardRef((e,r)=>{let{__scopeMenu:n,loop:o=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:p,onInteractOutside:m,onDismiss:h,disableOutsideScroll:g,...w}=e,y=Y(eo,n),b=J(eo,n),j=q(n),R=X(n),E=z(n),[P,S]=f.useState(null),T=f.useRef(null),O=(0,x.useComposedRefs)(r,T,y.onContentChange),A=f.useRef(0),F=f.useRef(""),K=f.useRef(0),U=f.useRef(null),G=f.useRef("right"),V=f.useRef(0),B=g?I.RemoveScroll:f.Fragment,W=g?{as:D.Slot,allowPinchZoom:!0}:void 0;f.useEffect(()=>()=>window.clearTimeout(A.current),[]),(0,k.useFocusGuards)();let Z=f.useCallback(e=>{var t,r;return G.current===U.current?.side&&(t=e,!!(r=U.current?.area)&&function(e,t){let{x:r,y:n}=e,o=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let s=t[e].x,i=t[e].y,l=t[a].x,d=t[a].y;i>n!=d>n&&r<(l-s)*(n-i)/(d-i)+s&&(o=!o)}return o}({x:t.clientX,y:t.clientY},r))},[]);return(0,t.jsx)(ea,{scope:n,searchRef:F,onItemEnter:f.useCallback(e=>{Z(e)&&e.preventDefault()},[Z]),onItemLeave:f.useCallback(e=>{Z(e)||(T.current?.focus(),S(null))},[Z]),onTriggerLeave:f.useCallback(e=>{Z(e)&&e.preventDefault()},[Z]),pointerGraceTimerRef:K,onPointerGraceIntentChange:f.useCallback(e=>{U.current=e},[]),children:(0,t.jsx)(B,{...W,children:(0,t.jsx)(M.FocusScope,{asChild:!0,trapped:a,onMountAutoFocus:(0,v.composeEventHandlers)(s,e=>{e.preventDefault(),T.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:(0,t.jsx)(C.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:p,onInteractOutside:m,onDismiss:h,children:(0,t.jsx)(_.Root,{asChild:!0,...R,dir:b.dir,orientation:"vertical",loop:o,currentTabStopId:P,onCurrentTabStopIdChange:S,onEntryFocus:(0,v.composeEventHandlers)(d,e=>{b.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,t.jsx)(N.Content,{role:"menu","aria-orientation":"vertical","data-state":eL(y.open),"data-radix-menu-content":"",dir:b.dir,...j,...w,ref:O,style:{outline:"none",...w.style},onKeyDown:(0,v.composeEventHandlers)(w.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;if(t){var o;let t,a,s,i,l,d;"Tab"===e.key&&e.preventDefault(),!r&&n&&(o=e.key,t=F.current+o,a=E().filter(e=>!e.disabled),s=document.activeElement,i=a.find(e=>e.ref.current===s)?.textValue,l=function(e,t,r){var n;let o=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=r?e.indexOf(r):-1,s=(n=Math.max(a,0),e.map((t,r)=>e[(n+r)%e.length]));1===o.length&&(s=s.filter(e=>e!==r));let i=s.find(e=>e.toLowerCase().startsWith(o.toLowerCase()));return i!==r?i:void 0}(a.map(e=>e.textValue),t,i),d=a.find(e=>e.textValue===l)?.ref.current,function e(t){F.current=t,window.clearTimeout(A.current),""!==t&&(A.current=window.setTimeout(()=>e(""),1e3))}(t),d&&setTimeout(()=>d.focus()))}let a=T.current;if(e.target!==a||!H.includes(e.key))return;e.preventDefault();let s=E().filter(e=>!e.disabled).map(e=>e.ref.current);L.includes(e.key)&&s.reverse(),function(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}(s)}),onBlur:(0,v.composeEventHandlers)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(A.current),F.current="")}),onPointerMove:(0,v.composeEventHandlers)(e.onPointerMove,eF(e=>{let t=e.target,r=V.current!==e.clientX;e.currentTarget.contains(t)&&r&&(G.current=e.clientX>V.current?"right":"left",V.current=e.clientX)}))})})})})})})});ei.displayName=eo;var eu=f.forwardRef((e,r)=>{let{__scopeMenu:n,...o}=e;return(0,t.jsx)(y.Primitive.div,{role:"group",...o,ref:r})});eu.displayName="MenuGroup";var ep=f.forwardRef((e,r)=>{let{__scopeMenu:n,...o}=e;return(0,t.jsx)(y.Primitive.div,{...o,ref:r})});ep.displayName="MenuLabel";var ef="MenuItem",em="menu.itemSelect",eh=f.forwardRef((e,r)=>{let{disabled:n=!1,onSelect:o,...a}=e,s=f.useRef(null),i=J(ef,e.__scopeMenu),l=es(ef,e.__scopeMenu),d=(0,x.useComposedRefs)(r,s),c=f.useRef(!1);return(0,t.jsx)(ev,{...a,ref:d,disabled:n,onClick:(0,v.composeEventHandlers)(e.onClick,()=>{let e=s.current;if(!n&&e){let t=new CustomEvent(em,{bubbles:!0,cancelable:!0});e.addEventListener(em,e=>o?.(e),{once:!0}),(0,y.dispatchDiscreteCustomEvent)(e,t),t.defaultPrevented?c.current=!1:i.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),c.current=!0},onPointerUp:(0,v.composeEventHandlers)(e.onPointerUp,e=>{c.current||e.currentTarget?.click()}),onKeyDown:(0,v.composeEventHandlers)(e.onKeyDown,e=>{let t=""!==l.searchRef.current;n||t&&" "===e.key||O.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});eh.displayName=ef;var ev=f.forwardRef((e,r)=>{let{__scopeMenu:n,disabled:o=!1,textValue:a,...s}=e,i=es(ef,n),l=X(n),d=f.useRef(null),c=(0,x.useComposedRefs)(r,d),[u,p]=f.useState(!1),[m,h]=f.useState("");return f.useEffect(()=>{let e=d.current;e&&h((e.textContent??"").trim())},[s.children]),(0,t.jsx)(U.ItemSlot,{scope:n,disabled:o,textValue:a??m,children:(0,t.jsx)(_.Item,{asChild:!0,...l,focusable:!o,children:(0,t.jsx)(y.Primitive.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...s,ref:c,onPointerMove:(0,v.composeEventHandlers)(e.onPointerMove,eF(e=>{o?i.onItemLeave(e):(i.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,v.composeEventHandlers)(e.onPointerLeave,eF(e=>i.onItemLeave(e))),onFocus:(0,v.composeEventHandlers)(e.onFocus,()=>p(!0)),onBlur:(0,v.composeEventHandlers)(e.onBlur,()=>p(!1))})})})}),ex=f.forwardRef((e,r)=>{let{checked:n=!1,onCheckedChange:o,...a}=e;return(0,t.jsx)(eM,{scope:e.__scopeMenu,checked:n,children:(0,t.jsx)(eh,{role:"menuitemcheckbox","aria-checked":eH(n)?"mixed":n,...a,ref:r,"data-state":eA(n),onSelect:(0,v.composeEventHandlers)(a.onSelect,()=>o?.(!!eH(n)||!n),{checkForDefaultPrevented:!1})})})});ex.displayName="MenuCheckboxItem";var eg="MenuRadioGroup",[ew,ey]=V(eg,{value:void 0,onValueChange:()=>{}}),eb=f.forwardRef((e,r)=>{let{value:n,onValueChange:o,...a}=e,s=(0,S.useCallbackRef)(o);return(0,t.jsx)(ew,{scope:e.__scopeMenu,value:n,onValueChange:s,children:(0,t.jsx)(eu,{...a,ref:r})})});eb.displayName=eg;var ej="MenuRadioItem",eC=f.forwardRef((e,r)=>{let{value:n,...o}=e,a=ey(ej,e.__scopeMenu),s=n===a.value;return(0,t.jsx)(eM,{scope:e.__scopeMenu,checked:s,children:(0,t.jsx)(eh,{role:"menuitemradio","aria-checked":s,...o,ref:r,"data-state":eA(s),onSelect:(0,v.composeEventHandlers)(o.onSelect,()=>a.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});eC.displayName=ej;var ek="MenuItemIndicator",[eM,eR]=V(ek,{checked:!1}),eN=f.forwardRef((e,r)=>{let{__scopeMenu:n,forceMount:o,...a}=e,s=eR(ek,n);return(0,t.jsx)(P.Presence,{present:o||eH(s.checked)||!0===s.checked,children:(0,t.jsx)(y.Primitive.span,{...a,ref:r,"data-state":eA(s.checked)})})});eN.displayName=ek;var eE=f.forwardRef((e,r)=>{let{__scopeMenu:n,...o}=e;return(0,t.jsx)(y.Primitive.div,{role:"separator","aria-orientation":"horizontal",...o,ref:r})});eE.displayName="MenuSeparator";var eP=f.forwardRef((e,r)=>{let{__scopeMenu:n,...o}=e,a=q(n);return(0,t.jsx)(N.Arrow,{...a,...o,ref:r})});eP.displayName="MenuArrow";var[e_,eD]=V("MenuSub"),eS="MenuSubTrigger",eT=f.forwardRef((e,r)=>{let n=Y(eS,e.__scopeMenu),o=J(eS,e.__scopeMenu),a=eD(eS,e.__scopeMenu),s=es(eS,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=s,c={__scopeMenu:e.__scopeMenu},u=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{let e=l.current;return()=>{window.clearTimeout(e),d(null)}},[l,d]),(0,t.jsx)($,{asChild:!0,...c,children:(0,t.jsx)(ev,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":eL(n.open),...e,ref:(0,x.composeRefs)(r,a.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:(0,v.composeEventHandlers)(e.onPointerMove,eF(t=>{s.onItemEnter(t),!t.defaultPrevented&&(e.disabled||n.open||i.current||(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100)))})),onPointerLeave:(0,v.composeEventHandlers)(e.onPointerLeave,eF(e=>{u();let t=n.content?.getBoundingClientRect();if(t){let r=n.content?.dataset.side,o="right"===r,a=t[o?"left":"right"],i=t[o?"right":"left"];s.onPointerGraceIntentChange({area:[{x:e.clientX+(o?-5:5),y:e.clientY},{x:a,y:t.top},{x:i,y:t.top},{x:i,y:t.bottom},{x:a,y:t.bottom}],side:r}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(e),e.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:(0,v.composeEventHandlers)(e.onKeyDown,t=>{let r=""!==s.searchRef.current;e.disabled||r&&" "===t.key||A[o.dir].includes(t.key)&&(n.onOpenChange(!0),n.content?.focus(),t.preventDefault())})})})});eT.displayName=eS;var eI="MenuSubContent",eO=f.forwardRef((e,r)=>{let n=er(eo,e.__scopeMenu),{forceMount:o=n.forceMount,...a}=e,s=Y(eo,e.__scopeMenu),i=J(eo,e.__scopeMenu),l=eD(eI,e.__scopeMenu),d=f.useRef(null),c=(0,x.useComposedRefs)(r,d);return(0,t.jsx)(U.Provider,{scope:e.__scopeMenu,children:(0,t.jsx)(P.Presence,{present:o||s.open,children:(0,t.jsx)(U.Slot,{scope:e.__scopeMenu,children:(0,t.jsx)(ec,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:c,align:"start",side:"rtl"===i.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{i.isUsingKeyboardRef.current&&d.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,v.composeEventHandlers)(e.onFocusOutside,e=>{e.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:(0,v.composeEventHandlers)(e.onEscapeKeyDown,e=>{i.onClose(),e.preventDefault()}),onKeyDown:(0,v.composeEventHandlers)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),r=F[i.dir].includes(e.key);t&&r&&(s.onOpenChange(!1),l.trigger?.focus(),e.preventDefault())})})})})})});function eL(e){return e?"open":"closed"}function eH(e){return"indeterminate"===e}function eA(e){return eH(e)?"indeterminate":e?"checked":"unchecked"}function eF(e){return t=>"mouse"===t.pointerType?e(t):void 0}eO.displayName=eI;var eK="DropdownMenu",[eU,ez]=(0,g.createContextScope)(eK,[B]),eG=B(),[eV,eB]=eU(eK),eq=e=>{let{__scopeDropdownMenu:r,children:n,dir:o,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,d=eG(r),c=f.useRef(null),[u=!1,p]=(0,w.useControllableState)({prop:a,defaultProp:s,onChange:i});return(0,t.jsx)(eV,{scope:r,triggerId:(0,R.useId)(),triggerRef:c,contentId:(0,R.useId)(),open:u,onOpenChange:p,onOpenToggle:f.useCallback(()=>p(e=>!e),[p]),modal:l,children:(0,t.jsx)(Q,{...d,open:u,onOpenChange:p,dir:o,modal:l,children:n})})};eq.displayName=eK;var eX="DropdownMenuTrigger",eW=f.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,disabled:o=!1,...a}=e,s=eB(eX,n),i=eG(n);return(0,t.jsx)($,{asChild:!0,...i,children:(0,t.jsx)(y.Primitive.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...a,ref:(0,x.composeRefs)(r,s.triggerRef),onPointerDown:(0,v.composeEventHandlers)(e.onPointerDown,e=>{!o&&0===e.button&&!1===e.ctrlKey&&(s.onOpenToggle(),s.open||e.preventDefault())}),onKeyDown:(0,v.composeEventHandlers)(e.onKeyDown,e=>{!o&&(["Enter"," "].includes(e.key)&&s.onOpenToggle(),"ArrowDown"===e.key&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});eW.displayName=eX;var eY=e=>{let{__scopeDropdownMenu:r,...n}=e,o=eG(r);return(0,t.jsx)(en,{...o,...n})};eY.displayName="DropdownMenuPortal";var eZ="DropdownMenuContent",eJ=f.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...o}=e,a=eB(eZ,n),s=eG(n),i=f.useRef(!1);return(0,t.jsx)(ei,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...o,ref:r,onCloseAutoFocus:(0,v.composeEventHandlers)(e.onCloseAutoFocus,e=>{i.current||a.triggerRef.current?.focus(),i.current=!1,e.preventDefault()}),onInteractOutside:(0,v.composeEventHandlers)(e.onInteractOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;(!a.modal||n)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eJ.displayName=eZ,f.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...o}=e,a=eG(n);return(0,t.jsx)(eu,{...a,...o,ref:r})}).displayName="DropdownMenuGroup",f.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...o}=e,a=eG(n);return(0,t.jsx)(ep,{...a,...o,ref:r})}).displayName="DropdownMenuLabel";var eQ=f.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...o}=e,a=eG(n);return(0,t.jsx)(eh,{...a,...o,ref:r})});eQ.displayName="DropdownMenuItem",f.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...o}=e,a=eG(n);return(0,t.jsx)(ex,{...a,...o,ref:r})}).displayName="DropdownMenuCheckboxItem",f.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...o}=e,a=eG(n);return(0,t.jsx)(eb,{...a,...o,ref:r})}).displayName="DropdownMenuRadioGroup",f.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...o}=e,a=eG(n);return(0,t.jsx)(eC,{...a,...o,ref:r})}).displayName="DropdownMenuRadioItem",f.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...o}=e,a=eG(n);return(0,t.jsx)(eN,{...a,...o,ref:r})}).displayName="DropdownMenuItemIndicator",f.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...o}=e,a=eG(n);return(0,t.jsx)(eE,{...a,...o,ref:r})}).displayName="DropdownMenuSeparator",f.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...o}=e,a=eG(n);return(0,t.jsx)(eP,{...a,...o,ref:r})}).displayName="DropdownMenuArrow",f.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...o}=e,a=eG(n);return(0,t.jsx)(eT,{...a,...o,ref:r})}).displayName="DropdownMenuSubTrigger",f.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,...o}=e,a=eG(n);return(0,t.jsx)(eO,{...a,...o,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}).displayName="DropdownMenuSubContent";var e$=e.i(78784);function e0({...e}){return(0,t.jsx)(eq,{"data-slot":"dropdown-menu",...e})}function e1({...e}){return(0,t.jsx)(eW,{"data-slot":"dropdown-menu-trigger",...e})}function e2({className:e,sideOffset:r=4,...n}){return(0,t.jsx)(eY,{children:(0,t.jsx)(eJ,{"data-slot":"dropdown-menu-content",sideOffset:r,className:(0,u.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function e5({className:e,inset:r,variant:n="default",...o}){return(0,t.jsx)(eQ,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":n,className:(0,u.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...o})}(0,o.default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),(0,o.default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);let e4=(0,o.default)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);var e6=e.i(46696);function e3({accounts:e,selectedAccountId:r,onAccountChange:o}){let[a,s]=(0,f.useState)(!1),i=(0,n.useRouter)(),l=e.find(e=>e.id===r)||e[0],d=async e=>{try{let t=new FormData;t.append("accountId",e);let r=await fetch("/api/accounts/set-default",{method:"POST",body:t}),n=await r.json();if(!r.ok||!n.success)return void e6.toast.error(n.error||"Failed to set default account");o&&o(e),i.refresh()}catch(e){e6.toast.error("An unexpected error occurred")}};return(0,t.jsxs)(e0,{open:a,onOpenChange:s,children:[(0,t.jsx)(e1,{asChild:!0,children:(0,t.jsxs)(h.Button,{variant:"outline",className:"w-full justify-between","aria-label":"Select account",id:"account-selector-trigger",children:[(0,t.jsx)("span",{className:"truncate",children:l?.name}),(0,t.jsx)(e4,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,t.jsx)(e2,{align:"end",className:"w-64",children:e.map(e=>(0,t.jsxs)(e5,{onSelect:()=>d(e.id),className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"truncate",children:e.name}),e.id===r&&(0,t.jsx)(e$.CheckIcon,{className:"h-4 w-4 text-green-500"})]},e.id))})]})}var e8=e.i(44345),e7=e.i(65238);function e9(){let[e,r]=(0,f.useState)([]),[o,a]=(0,f.useState)(null),[s,i]=(0,f.useState)(null),l=(0,m.createClient)(),d=(0,n.useRouter)(),{setIsLoading:c}=(0,e7.useLoading)();(0,f.useEffect)(()=>{(async()=>{try{let e=await (0,e8.getCachedUser)();if(!e)return;i(e.email||null);let{data:t,error:n}=await l.from("accounts").select("id, name").eq("user_id",e.id).order("name");if(n)return void console.error("Error fetching accounts:",n);r(t||[]);let{data:o,error:s}=await l.from("users").select("default_account_id").eq("id",e.id).single();!s&&o&&a(o.default_account_id)}catch(e){console.error("Error fetching user data:",e)}})()},[l]),(0,f.useEffect)(()=>{let e=l.channel("profile-accounts-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"accounts"},e=>{let t=e.new;r(e=>[...e,t])}).on("postgres_changes",{event:"DELETE",schema:"public",table:"accounts"},e=>{let t=e.old.id;r(e=>e.filter(e=>e.id!==t)),o===t&&a(null)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"users"},e=>{e.new.default_account_id!==o&&a(e.new.default_account_id)}).subscribe();return()=>{l.removeChannel(e)}},[l,o]);let u=async()=>{c(!0),await fetch("/api/auth/signout",{method:"POST"}),(0,e8.clearUserCache)(),d.push("/login")};return s?(0,t.jsxs)(e0,{children:[(0,t.jsx)(e1,{asChild:!0,children:(0,t.jsx)(h.Button,{variant:"ghost",size:"icon",className:"w-full rounded-lg border border-transparent hover:bg-muted px-3 py-2 md:border-gray-300 md:rounded-lg md:px-20",children:(0,t.jsxs)("div",{className:"flex w-full items-center justify-center gap-2",children:[(0,t.jsx)(p,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"hidden md:inline",children:"Profile"})]})})}),(0,t.jsxs)(e2,{align:"end",className:"w-64",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2",children:[(0,t.jsx)("div",{className:"rounded-full bg-gray-200 p-2",children:(0,t.jsx)(p,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:s}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"View profile"})]})]}),(0,t.jsx)("div",{className:"border-t pt-2",children:e.length>0&&o&&(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"px-2 py-1.5",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"ACCOUNTS"}),(0,t.jsx)(e3,{accounts:e,selectedAccountId:o,onAccountChange:e=>{a(e)}})]})})}),(0,t.jsx)(e5,{onClick:()=>{c(!0),d.push("/profile")},children:"Profile Settings"}),(0,t.jsx)(e5,{className:"text-red-600",onClick:u,children:"Log Out"})]})]}):null}var te=e.i(63178);let tt=[{href:"/dashboard",label:"Dashboard",icon:a},{href:"/add",label:"Add Transaction",icon:s},{href:"/transactions",label:"Transactions",icon:i},{href:"/analytics",label:"Analytics",icon:l.default},{href:"/accounts",label:"Accounts",icon:d}];function tr(){let e=(0,n.usePathname)(),o=(0,n.useRouter)(),{theme:a}=(0,te.useTheme)(),{setIsLoading:s}=(0,e7.useLoading)(),[i,l]=(0,f.useState)({});(0,f.useEffect)(()=>{let e=setTimeout(()=>{l({}),s(!1)},100);return()=>clearTimeout(e)},[e,s]);let d=async()=>{s(!0),l(e=>({...e,"/logout":!0})),await fetch("/api/auth/signout",{method:"POST"}),o.push("/login")};return(0,t.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 border-t bg-background md:fixed md:left-0 md:top-0 md:h-screen md:w-64 md:border-r md:border-t-0",children:(0,t.jsxs)("div",{className:"flex h-16 items-center justify-around md:h-full md:flex-col md:gap-1 md:p-2",children:[(0,t.jsxs)(r.default,{href:"/dashboard",className:"hidden md:flex items-center gap-2 mb-4 mt-2 group",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",children:(0,t.jsx)("img",{src:"dark"===a?"/hisaab-logo-white.png":"/hisaab-logo-main.png",alt:"Hisaab Logo",className:"h-5 w-5",suppressHydrationWarning:!0})}),(0,t.jsx)("span",{className:"text-xl font-bold text-foreground hidden sm:inline",children:"Hisaab"})]}),tt.map(r=>{let n=e===r.href||e.startsWith(r.href),a=i[r.href];return(0,t.jsxs)("button",{onClick:()=>{var e;return e=r.href,void(s(!0),l(t=>({...t,[e]:!0})),o.push(e))},disabled:a,className:(0,u.cn)("flex flex-col items-center gap-2 rounded-lg px-2 py-1 text-sm font-medium transition-colors md:w-full md:flex-row md:gap-3 md:px-4 md:py-2",n?"bg-indigo-600 text-white":"text-muted-foreground hover:bg-muted hover:text-foreground",a?"opacity-50 cursor-not-allowed":""),children:[a?(0,t.jsx)("div",{className:"h-5 w-5 flex items-center justify-center",children:(0,t.jsx)("div",{className:"h-4 w-4 rounded-full border-2 border-indigo-600 border-t-transparent animate-spin"})}):(0,t.jsx)(r.icon,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"text-xs md:text-sm hidden md:inline",children:r.label})]},r.href)}),(0,t.jsxs)("div",{className:"md:mt-auto md:mb-4 md:w-full md:px-1",children:[(0,t.jsx)("div",{className:"flex items-center justify-center md:mb-2",children:(0,t.jsx)(e9,{})}),(0,t.jsxs)("button",{onClick:d,className:"hidden w-full items-center justify-center gap-2 rounded-lg border border-red-500 px-2 py-2 text-sm font-medium text-red-500 transition-colors hover:bg-red-500 hover:text-white md:flex md:mt-2",children:[(0,t.jsx)(c,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"hidden md:inline",children:"Logout"})]})]})]})})}function tn(){return(0,t.jsx)(f.Suspense,{fallback:null,children:(0,t.jsx)(tr,{})})}e.s(["Navigation",()=>tn],94220)}]);